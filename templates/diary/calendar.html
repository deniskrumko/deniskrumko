{% extends "base.html" %}
{% load static i18n %}


{% block extrastyle %}
  <link rel="stylesheet" href="{% static 'css/diary/calendar.css' %}">
  <link rel="stylesheet" href="{% static 'css/diary/detail.css' %}">
{% endblock %}

{% block extrajs %}
{% endblock %}

{% block body %}

{# Menu #}
{% include 'components/menu.html'%}

<div class="uk-container uk-container-small">

  <h2>
    <strong>Календарь</strong>
  </h2>

  <form class="uk-grid-small uk-margin-bottom" uk-grid>
      <div class="uk-width-2-5@xl uk-width-2-5@l uk-width-2-5@m uk-width-1-2@s">
        <select class="uk-select">
          {% for day in months %}
            <option value="{{ day|date:'m' }}">{{ day|date:'F' }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="uk-width-2-5@xl uk-width-2-5@l uk-width-2-5@m uk-width-1-2@s">
        <select class="uk-select">
          {% for year in years %}
            <option>{{ year }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="uk-width-1-5@xl uk-width-1-5@l uk-width-1-5@m uk-width-1-1@s">
        <input type="submit" name="" value="Перейти" class="uk-button uk-button-primary uk-width-1-1">
      </div>
  </form>

  {% for entry in entries %}
  <div class="dk-entry uk-margin-bottom">
    <div class="dk-edit-link uk-visible@s">
      <a href="{% url 'diary:edit' date=entry.date %}" class="uk-icon-button uk-margin-small-right" uk-icon="icon: pencil; ratio: 1.3;" target="_blank"></a>
      <a href="{{ entry.admin_changelink }}" class="uk-icon-button uk-margin-small-right" uk-icon="icon: cog; ratio: 1.3;" target="_blank"></a>
    </div>
    <div class="dk-entry-date">
      {{ entry.date|date:'F d, Y (l)' }}
      {% if entry.done %}
        <span uk-icon="icon: check; ratio: 1" style="color: #75B53C; position: relative; top: -2px;"></span>
      {% else %}
        <span uk-icon="icon: close; ratio: 1" style="color: red; position: relative; top: -2px;"></span>
      {% endif %}
    </div>
    <div class="dk-entry-text">
      {% if entry.text %}
        {% autoescape off %}
          {{ entry.html }}
        {% endautoescape %}
      {% else %}
        <div class="dk-center-btn">
          <a href="{% url 'diary:edit' date=date_str %}" class="dk-a">
            Запись не добавлена
          </a>
        </div>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
